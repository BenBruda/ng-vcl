webpackJsonp([42],{379:function(n,l,s){"use strict";function t(n,l){return void 0===l&&(l=x.a),function(s){return s.lift(new O(n,l))}}function a(n){n.debouncedNext()}function e(n,l){return void 0===l&&(l=x.a),t(n,l)(this)}function o(n,l,s){return function(t){return t.lift(new P(n,l,s))}}function u(n,l,s){return o(n,l,s)(this)}function p(){return{label:"Input",tabs:{Demo:q,"README.md":{type:"md",content:s(733)},"demo.component.html":{type:"pre",content:s(734)},"demo.component.ts":{type:"pre",content:s(735)}}}}function c(n){return w._29(0,[(n()(),w._6(0,0,null,null,1,"div",[["class","vclDropdownItemSubLabel"]],null,null,null,null,null)),(n()(),w._27(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.parent.context.$implicit.sublabel)})}function i(n){return w._29(0,[(n()(),w._6(0,0,null,null,7,"li",[["class","vclDropdownItem"],["role","menuitem"]],[[2,"vclHighlighted",null],[2,"vclDisabled",null]],null,null,null,null)),(n()(),w._27(-1,null,["\n        "])),(n()(),w._6(2,0,null,null,1,"div",[["class","vclDropdownItemLabel"],["role","menuitem"]],null,[[null,"click"]],function(n,l,s){var t=!0;if("click"===l){t=!1!==n.parent.parent.parent.context.ngIf.select.next(n.parent.context.$implicit)&&t}return t},null,null)),(n()(),w._27(3,null,["",""])),(n()(),w._27(-1,null,["\n        "])),(n()(),w._1(16777216,null,null,1,null,c)),w._5(6,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),(n()(),w._27(-1,null,["\n      "]))],function(n,l){n(l,6,0,l.parent.context.$implicit.sublabel)},function(n,l){var s=l.component;n(l,0,0,l.parent.context.index===s.highlightedItem,s.disabled||l.parent.context.$implicit.disabled),n(l,3,0,l.parent.context.$implicit.label)})}function r(n){return w._29(0,[(n()(),w._6(0,0,null,null,3,"li",[["role","menuitem"]],null,null,null,null,null)),(n()(),w._27(-1,null,["\n        "])),(n()(),w._6(2,0,null,null,0,"div",[["class","vclSeparator"],["role","separator"]],null,null,null,null,null)),(n()(),w._27(-1,null,["\n      "]))],null,null)}function h(n){return w._29(0,[(n()(),w._6(0,0,null,null,4,"li",[["class","vclDropdownItemGroupHeader"],["role","menuitem"]],null,null,null,null,null)),(n()(),w._27(-1,null,["\n        "])),(n()(),w._6(2,0,null,null,1,"div",[["class","vclDropdownItemGroupHeaderLabel"]],null,null,null,null,null)),(n()(),w._27(3,null,["",""])),(n()(),w._27(-1,null,["\n      "]))],null,function(n,l){n(l,3,0,l.parent.context.$implicit.label)})}function d(n){return w._29(0,[(n()(),w._6(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),w._27(-1,null,["\n      "])),(n()(),w._1(16777216,null,null,1,null,i)),w._5(3,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),(n()(),w._27(-1,null,["\n      "])),(n()(),w._1(16777216,null,null,1,null,r)),w._5(6,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),(n()(),w._27(-1,null,["\n      "])),(n()(),w._1(16777216,null,null,1,null,h)),w._5(9,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),(n()(),w._27(-1,null,["\n    "]))],function(n,l){n(l,3,0,"item"===l.context.$implicit.type),n(l,6,0,"separator"===l.context.$implicit.type),n(l,9,0,"header"===l.context.$implicit.type)},null)}function m(n){return w._29(0,[(n()(),w._6(0,0,null,null,5,"ul",[["class","vclDropdown vclNoBorder vclOpen"],["role","menu"]],null,null,null,null,null)),(n()(),w._27(-1,null,["\n    "])),(n()(),w._1(16777216,null,null,2,null,d)),w._5(3,802816,null,0,tn.k,[w.P,w.M,w.r],{ngForOf:[0,"ngForOf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,null,["\n  "]))],function(n,l){var s=l.component;n(l,3,0,w._28(l,3,0,w._20(l,4).transform(s.items$)))},null)}function f(n){return w._29(0,[(n()(),w._6(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),w._27(-1,null,["\n    "])),w._19(null,0),(n()(),w._27(-1,null,["\n  "]))],null,null)}function g(n){return w._29(0,[(n()(),w._6(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),w._27(-1,null,["\n    "])),w._19(null,1),(n()(),w._27(-1,null,["\n  "]))],null,null)}function b(n){return w._29(0,[(n()(),w._6(0,0,null,null,18,"vcl-popover",[["attachmentX","left"],["attachmentY","top"],["targetX","left"],["targetY","bottom"]],[[4,"width",null],[2,"vclPopOver",null],[4,"position",null],[2,"vclLayoutHidden",null],[4,"visibility",null],[4,"transform",null]],[[null,"offClick"],["window","resize"]],function(n,l,s){var t=!0;if("window:resize"===l){t=!1!==w._20(n,1).onWindowResize(s)&&t}if("offClick"===l){t=!1!==n.context.ngIf.offClick.next()&&t}return t},an.b,an.a)),w._5(1,4964352,[[1,4],["popover",4]],0,en.b,[w.k,on.b,w.h,[2,en.a]],{target:[0,"target"],targetX:[1,"targetX"],targetY:[2,"targetY"],attachmentX:[3,"attachmentX"],attachmentY:[4,"attachmentY"],visible:[5,"visible"]},null),w._22(131072,tn.b,[w.h]),w._5(3,4341760,null,0,un.a,[w.k],{offClickExcludes:[0,"offClickExcludes"]},{offClick:"offClick"}),w._21(4,1),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,0,["\n  "])),(n()(),w._1(16777216,null,0,2,null,m)),w._5(8,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,0,["\n  "])),(n()(),w._1(16777216,null,0,2,null,f)),w._5(12,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,0,["\n  "])),(n()(),w._1(16777216,null,0,2,null,g)),w._5(16,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,0,["\n"]))],function(n,l){var s=l.component;n(l,1,0,l.context.ngIf.element,"left","bottom","left","top",w._28(l,1,5,w._20(l,2).transform(s.visible$))),n(l,3,0,n(l,4,0,l.context.ngIf.element)),n(l,8,0,w._28(l,8,0,w._20(l,9).transform(s.itemsVisible$))),n(l,12,0,w._28(l,12,0,w._20(l,13).transform(s.noItemsVisible$))),n(l,16,0,w._28(l,16,0,w._20(l,17).transform(s.busyVisible$)))},function(n,l){var s=l.component;n(l,0,0,w._28(l,0,0,w._20(l,5).transform(s.popoverWidth$)),!0,"absolute",w._20(l,1).classHidden,w._20(l,1).styleVisibility,w._20(l,1).transform)})}function v(n){return w._29(0,[w._25(671088640,1,{popover:0}),(n()(),w._1(16777216,null,null,2,null,b)),w._5(2,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,null,["\n"]))],function(n,l){var s=l.component;n(l,2,0,w._28(l,2,0,w._20(l,3).transform(s.target$)))},null)}function _(n){return w._29(0,[(n()(),w._6(0,0,null,null,1,"vcl-autocomplete-option",[],null,null,null,null,null)),w._5(1,16384,[[6,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null)],function(n,l){n(l,1,0,l.context.$implicit.id,l.context.$implicit.title)},null)}function j(n){return w._29(0,[(n()(),w._6(0,0,null,null,1,"div",[["autocomplete-no-items",""],["style","padding: 1em"]],null,null,null,null,null)),(n()(),w._27(-1,null,["\n    No books found\n  "]))],null,null)}function y(n){return w._29(0,[(n()(),w._6(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),w._27(-1,null,["vcl-input with fixed data"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(3,0,null,null,7,"vcl-embedded-input-group",[["prepIcon","fa:search"]],[[2,"vclInputGroupEmb",null],[4,"display",null]],null,null,U.b,U.a)),w._5(4,704512,null,0,H.a,[],{prepIcon:[0,"prepIcon"]},null),(n()(),w._27(-1,0,["\n  "])),(n()(),w._6(6,0,null,0,3,"input",[["placeholder","Search"],["vcl-embedded-input",""],["vcl-input",""]],[[2,"vclInput",null],[2,"vclDisabled",null],[1,"disabled",0],[2,"vclInput",null],[2,"vclDisabled",null],[1,"disabled",0],[2,"vclPrepItem",null],[2,"vclAppItem",null],[2,"vclDisabled",null],[1,"disabled",0]],[[null,"change"],[null,"focus"],[null,"input"],[null,"keydown"],[null,"keyup"],[null,"keypress"]],function(n,l,s){var t=!0,a=n.component;if("focus"===l){t=!1!==w._20(n,9).listenActivate()&&t}if("input"===l){t=!1!==w._20(n,9).listenActivate()&&t}if("keydown"===l){t=!1!==w._20(n,9).onKeyPress(s)&&t}if("keyup"===l){t=!1!==w._20(n,9).onKeyUp(s)&&t}if("keypress"===l){t=!1!==w._20(n,9).handleKeyPressEvent(s)&&t}if("change"===l){t=!1!==a.onChange(s)&&t}return t},null,null)),w._5(7,16384,null,0,F.b,[],null,null),w._5(8,16384,null,0,W.a,[[3,H.a]],null,null),w._5(9,671744,null,0,J,[w.k],{_ac:[0,"_ac"]},null),(n()(),w._27(-1,0,["\n"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(12,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),w._27(-1,null,["vcl-token-input with fixed data"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(15,0,null,null,8,"vcl-token-input-container",[],[[2,"vclInput",null],[2,"vclTokenInput",null],[2,"vclLayoutHorizontal",null],[2,"vclLayoutWrap",null],[1,"tabindex",0],[2,"vclDisabled",null]],[[null,"change"]],function(n,l,s){var t=!0,a=n.component;if("change"===l){t=!1!==a.onChange(s)&&t}return t},Z.b,Z.a)),w._24(5120,null,Q.j,function(n){return[n]},[nn.a]),w._5(17,49152,null,2,nn.a,[w.k,w.h],null,{change:"change"}),w._25(335544320,1,{labelPre:0}),w._25(335544320,2,{labelPost:0}),(n()(),w._27(-1,0,["\n  "])),(n()(),w._6(21,0,null,0,1,"input",[["placeholder","Search for country to add"]],[[2,"vclInput",null],[1,"flex",0],[2,"vclDisabled",null],[1,"disabled",0]],[[null,"focus"],[null,"blur"],[null,"input"],[null,"keydown"],[null,"keyup"]],function(n,l,s){var t=!0;if("focus"===l){t=!1!==w._20(n,22).listenActivate()&&t}if("blur"===l){t=!1!==w._20(n,22).onBlur()&&t}if("input"===l){t=!1!==w._20(n,22).onInput()&&t}if("keydown"===l){t=!1!==w._20(n,22).onKeyPress(s)&&t}if("keyup"===l){t=!1!==w._20(n,22).onKeyUp(s)&&t}return t},null,null)),w._5(22,671744,null,0,sn,[w.k,[3,nn.a]],{_ac:[0,"_ac"]},null),(n()(),w._27(-1,0,["\n"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(25,0,null,null,30,"vcl-autocomplete",[],null,null,null,v,cn)),w._5(26,1753088,[["acCountry",4]],1,L,[],null,null),w._25(603979776,3,{items:1}),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(29,0,null,null,1,"vcl-autocomplete-option",[["label","Europe"],["type","header"]],null,null,null,null,null)),w._5(30,16384,[[3,4]],0,N,[],{type:[0,"type"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(32,0,null,null,1,"vcl-autocomplete-option",[["label","Greece"],["value","gr"]],null,null,null,null,null)),w._5(33,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(35,0,null,null,1,"vcl-autocomplete-option",[["label","France"],["value","fr"]],null,null,null,null,null)),w._5(36,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(38,0,null,null,1,"vcl-autocomplete-option",[["label","Germany"],["value","de"]],null,null,null,null,null)),w._5(39,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(41,0,null,null,1,"vcl-autocomplete-option",[["label","The United Kingdom of Great Britain and Northern Ireland"],["value","uk"]],null,null,null,null,null)),w._5(42,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(44,0,null,null,1,"vcl-autocomplete-option",[["label","Asia"],["type","header"]],null,null,null,null,null)),w._5(45,16384,[[3,4]],0,N,[],{type:[0,"type"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(47,0,null,null,1,"vcl-autocomplete-option",[["label","Japan"],["value","jp"]],null,null,null,null,null)),w._5(48,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(50,0,null,null,1,"vcl-autocomplete-option",[["label","China"],["value","cn"]],null,null,null,null,null)),w._5(51,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(53,0,null,null,1,"vcl-autocomplete-option",[["label","Thailand"],["value","th"]],null,null,null,null,null)),w._5(54,16384,[[3,4]],0,N,[],{value:[0,"value"],label:[1,"label"]},null),(n()(),w._27(-1,null,["\n"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(57,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),w._27(-1,null,["vcl-token-input with async data"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(60,0,null,null,8,"vcl-token-input-container",[],[[2,"vclInput",null],[2,"vclTokenInput",null],[2,"vclLayoutHorizontal",null],[2,"vclLayoutWrap",null],[1,"tabindex",0],[2,"vclDisabled",null]],[[null,"change"]],function(n,l,s){var t=!0,a=n.component;if("change"===l){t=!1!==a.onChange(s)&&t}return t},Z.b,Z.a)),w._24(5120,null,Q.j,function(n){return[n]},[nn.a]),w._5(62,49152,null,2,nn.a,[w.k,w.h],null,{change:"change"}),w._25(335544320,4,{labelPre:0}),w._25(335544320,5,{labelPost:0}),(n()(),w._27(-1,0,["\n  "])),(n()(),w._6(66,0,null,0,1,"input",[["placeholder","Search for books to add"]],[[2,"vclInput",null],[1,"flex",0],[2,"vclDisabled",null],[1,"disabled",0]],[[null,"input"],[null,"autocompleteSelect"],[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keyup"]],function(n,l,s){var t=!0,a=n.component;if("focus"===l){t=!1!==w._20(n,67).listenActivate()&&t}if("blur"===l){t=!1!==w._20(n,67).onBlur()&&t}if("input"===l){t=!1!==w._20(n,67).onInput()&&t}if("keydown"===l){t=!1!==w._20(n,67).onKeyPress(s)&&t}if("keyup"===l){t=!1!==w._20(n,67).onKeyUp(s)&&t}if("input"===l){t=!1!==a.booksSearch$.next(s.target.value)&&t}if("autocompleteSelect"===l){t=!1!==a.booksSearch$.next("")&&t}return t},null,null)),w._5(67,671744,null,0,sn,[w.k,[3,nn.a]],{_ac:[0,"_ac"]},{autocompleteSelect:"autocompleteSelect"}),(n()(),w._27(-1,0,["\n"])),(n()(),w._27(-1,null,["\n\n"])),(n()(),w._6(70,0,null,null,13,"vcl-autocomplete",[],null,null,null,v,cn)),w._5(71,1753088,[["acBooks",4]],1,L,[],{busy:[0,"busy"]},null),w._25(603979776,6,{items:1}),(n()(),w._27(-1,null,["\n  "])),(n()(),w._1(16777216,null,null,2,null,_)),w._5(75,802816,null,0,tn.k,[w.P,w.M,w.r],{ngForOf:[0,"ngForOf"]},null),w._22(131072,tn.b,[w.h]),(n()(),w._27(-1,null,["\n  "])),(n()(),w._6(78,0,null,1,1,"vcl-busy-indicator",[["autocomplete-busy",""],["style","padding: 1em"]],null,null,null,rn.b,rn.a)),w._5(79,49152,null,0,hn.a,[dn.c],null,null),(n()(),w._27(-1,null,["\n  "])),(n()(),w._1(16777216,null,0,1,null,j)),w._5(82,16384,null,0,tn.l,[w.P,w.M],{ngIf:[0,"ngIf"]},null),(n()(),w._27(-1,null,["\n"])),(n()(),w._27(-1,null,["\n"]))],function(n,l){var s=l.component;n(l,4,0,"fa:search"),n(l,9,0,w._20(l,26)),n(l,22,0,w._20(l,26));n(l,30,0,"header","Europe");n(l,33,0,"gr","Greece");n(l,36,0,"fr","France");n(l,39,0,"de","Germany");n(l,42,0,"uk","The United Kingdom of Great Britain and Northern Ireland");n(l,45,0,"header","Asia");n(l,48,0,"jp","Japan");n(l,51,0,"cn","China");n(l,54,0,"th","Thailand"),n(l,67,0,w._20(l,71)),n(l,71,0,s.loading),n(l,75,0,w._28(l,75,0,w._20(l,76).transform(s.books$))),n(l,82,0,s.noResult)},function(n,l){n(l,3,0,!0,"block");n(l,6,0,!0,w._20(l,7).disabled,w._20(l,7).attrDisabled,!0,w._20(l,8).classDisabled,w._20(l,8).attrDisabled,w._20(l,8).prepItem,w._20(l,8).appItem,w._20(l,9).disabled,w._20(l,9).attrDisabled);n(l,15,0,!0,!0,!0,!0,-1,w._20(l,17).disabled);n(l,21,0,!0,!0,w._20(l,22).classDisabled,w._20(l,22).attrDisabled);n(l,60,0,!0,!0,!0,!0,-1,w._20(l,62).disabled);n(l,66,0,!0,!0,w._20(l,67).classDisabled,w._20(l,67).attrDisabled)})}function k(n){return w._29(0,[(n()(),w._6(0,0,null,null,1,"ng-component",[],null,null,null,y,gn)),w._5(1,49152,null,0,q,[mn.d],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var w=s(4),I=(s(200),s(2)),x=s(462),S=s(1),$=s(11),O=function(){function n(n,l){this.dueTime=n,this.scheduler=l}return n.prototype.call=function(n,l){return l.subscribe(new D(n,this.dueTime,this.scheduler))},n}(),D=function(n){function l(l,s,t){n.call(this,l),this.dueTime=s,this.scheduler=t,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return Object(S.__extends)(l,n),l.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))},l.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},l.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},l.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},l}($.a);I.a.prototype.debounceTime=e;var P=(s(196),function(){function n(n,l,s){this.nextOrObserver=n,this.error=l,this.complete=s}return n.prototype.call=function(n,l){return l.subscribe(new C(n,this.nextOrObserver,this.error,this.complete))},n}()),C=function(n){function l(l,s,t,a){n.call(this,l);var e=new $.a(s,t,a);e.syncErrorThrowable=!0,this.add(e),this.safeSubscriber=e}return Object(S.__extends)(l,n),l.prototype._next=function(n){var l=this.safeSubscriber;l.next(n),l.syncErrorThrown?this.destination.error(l.syncErrorValue):this.destination.next(n)},l.prototype._error=function(n){var l=this.safeSubscriber;l.error(n),l.syncErrorThrown?this.destination.error(l.syncErrorValue):this.destination.error(n)},l.prototype._complete=function(){var n=this.safeSubscriber;n.complete(),n.syncErrorThrown?this.destination.error(n.syncErrorValue):this.destination.complete()},l}($.a);I.a.prototype.do=u,I.a.prototype._do=u;var A=s(192);I.a.prototype.catch=A.a,I.a.prototype._catch=A.a;var E=s(75),T="https://www.googleapis.com/books/v1/volumes",q=function(){function n(n){var l=this;this.http=n,this.booksSearch$=new E.a(""),this.loading=!1,this.noResult=!1,this.books$=this.booksSearch$.debounceTime(200).switchMap(function(n){return l.noResult=!1,!n||n.length<2?(l.loading=!1,I.a.of([])):(l.loading=!0,l.http.get(T+"?q="+n+"&projection=lite").map(function(n){return n.json()}).map(function(n){return n.items?n.items.map(function(n){return{id:n.id,title:n.volumeInfo&&n.volumeInfo.title}}):[]}).catch(function(n){return I.a.of([])}).do(function(n){l.noResult=0===n.length,l.loading=!1}))})}return n.prototype.onChange=function(n){console.log(n)},n}(),R={demo:p},V=function(){function n(){}return n}(),K=s(411),M=s(26),B=s(56),G=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var s in l)l.hasOwnProperty(s)&&(n[s]=l[s])};return function(l,s){function t(){this.constructor=l}n(l,s),l.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}(),L=function(n){function l(){var l=null!==n&&n.apply(this,arguments)||this;return l.busy=!1,l.select=new w.m,l.target$=new E.a(void 0),l.busy$=l.observeChangeValue("busy").startWith(!1),l.items$=new E.a([]),l.itemsVisible$=I.a.combineLatest(l.target$,l.items$,l.busy$,function(n,l,s){return n&&!s&&l.length>0}),l.noItemsVisible$=I.a.combineLatest(l.target$,l.items$,l.busy$,function(n,l,s){return n&&!s&&0===l.length}),l.busyVisible$=I.a.combineLatest(l.target$,l.busy$,function(n,l){return n&&l}),l.visible$=I.a.combineLatest(l.itemsVisible$,l.noItemsVisible$,l.busyVisible$,function(n,l,s){return n||l||s}),l.popoverWidth$=l.target$.map(function(n){return n&&n.element.nativeElement.offsetWidth?n&&n.element.nativeElement.offsetWidth+"px":void 0}),l.highlightedItem=-1,l}return G(l,n),l.prototype.open=function(n){var l=this;this.highlightedItem=-1;var s=new M.a,t=new M.a,a=(new M.a,function(){s.complete(),t.complete(),l.target$.next(void 0)});t.subscribe(function(){return a()});return this.target$.next({element:n,select:s,offClick:t}),new I.a(function(n){s.subscribe(n);return function(){a()}})},l.prototype.selectHighlighted=function(){if(this.highlightedItem>=0&&this.target$.value&&this.items&&this.items.toArray()[this.highlightedItem]){var n=this.items.toArray()[this.highlightedItem];this.target$.value.select.next(n)}},l.prototype.highlightPrev=function(){var n=this;if(this.items)if(this.highlightedItem<0)this.highlightedItem=this.items.toArray().findIndex(function(n){return"item"===n.type});else{var l=this.items.toArray().reverse().findIndex(function(l,s,t){var a=t.length-1-s;return"item"===l.type&&a<n.highlightedItem});if(-1===l)this.highlightedItem=this.items.toArray().findIndex(function(n){return"item"===n.type});else{var s=this.items.length-1-l;this.highlightedItem=s}}},l.prototype.highlightNext=function(){var n=this;if(this.items){var l=this.items.toArray().findIndex(function(l,s){return"item"===l.type&&s>n.highlightedItem});l>-1&&(this.highlightedItem=l)}},l.prototype.ngAfterContentInit=function(){var n=this.items;this.itemsSub=n&&n.changes.startWith(n.toArray()).map(function(){return n.toArray()}).subscribe(this.items$)},l.prototype.ngOnDestroy=function(){n.prototype.ngOnDestroy.call(this),this.itemsSub&&this.itemsSub.unsubscribe()},l}(B.a),N=function(){function n(){this.type="item",this.disabled=!1}return n}(),U=s(554),H=s(506),F=s(443),W=s(555),X=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var s in l)l.hasOwnProperty(s)&&(n[s]=l[s])};return function(l,s){function t(){this.constructor=l}n(l,s),l.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}(),Y=this&&this.__awaiter||function(n,l,s,t){return new(s||(s=Promise))(function(a,e){function o(n){try{p(t.next(n))}catch(n){e(n)}}function u(n){try{p(t.throw(n))}catch(n){e(n)}}function p(n){n.done?a(n.value):new s(function(l){l(n.value)}).then(o,u)}p((t=t.apply(n,l||[])).next())})},z=this&&this.__generator||function(n,l){function s(n){return function(l){return t([n,l])}}function t(s){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,e&&(o=e[2&s[0]?"return":s[0]?"throw":"next"])&&!(o=o.call(e,s[1])).done)return o;switch(e=0,o&&(s=[0,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return p.label++,{value:s[1],done:!1};case 5:p.label++,e=s[1],s=[0];continue;case 7:s=p.ops.pop(),p.trys.pop();continue;default:if(o=p.trys,!(o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){p=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){p.label=s[1];break}if(6===s[0]&&p.label<o[1]){p.label=o[1],o=s;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(s);break}o[2]&&p.ops.pop(),p.trys.pop();continue}s=l.call(n,p)}catch(n){s=[6,n],e=0}finally{a=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}var a,e,o,u,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},J=function(n){function l(l){var s=n.call(this)||this;return s.elementRef=l,s.autocompleteSelect=new w.m,s.autocompleteOnSelect="value",s.disabled=!1,s}return X(l,n),Object.defineProperty(l.prototype,"ac",{get:function(){if(!(this._ac instanceof L))throw"invalid vcl-input-autocomplete parameter";return this._ac},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"attrDisabled",{get:function(){return!!this.disabled||null},enumerable:!0,configurable:!0}),l.prototype.listenActivate=function(){this.activate()},l.prototype.activate=function(){var n=this;this.acSub||(this.acSub=this.ac.open(this.elementRef).subscribe(function(l){"value"===n.autocompleteOnSelect?n.elementRef.nativeElement.value=String(l.value):"label"===n.autocompleteOnSelect?n.elementRef.nativeElement.value=l.label:"sublabel"===n.autocompleteOnSelect?n.elementRef.nativeElement.value=l.sublabel:"function"==typeof n.autocompleteOnSelect?n.elementRef.nativeElement.value=n.autocompleteOnSelect(l):n.elementRef.nativeElement.value="",n.deactivate(),n.autocompleteSelect.emit(l)},void 0,function(){return n.deactivate()}))},l.prototype.deactivate=function(){this.acSub&&(this.acSub.unsubscribe(),this.acSub=void 0)},l.prototype.onKeyPress=function(n){"Tab"===(n.code||n.key)&&this.deactivate()},l.prototype.onKeyUp=function(n){return"ArrowUp"===(n.code||n.key)?(this.ac&&this.ac.highlightPrev(),n.preventDefault(),!1):"ArrowDown"===n.code?(this.acSub?this.ac&&this.ac.highlightNext():this.activate(),n.preventDefault(),!1):void 0},l.prototype.handleKeyPressEvent=function(n){return Y(this,void 0,void 0,function(){return z(this,function(l){return"Enter"===n.code&&(n.preventDefault(),this.ac&&this.ac.selectHighlighted()),[2]})})},l.prototype.ngOnDestroy=function(){this.deactivate(),n.prototype.ngOnDestroy.call(this)},l}(B.a),Z=s(516),Q=s(105),nn=s(474),ln=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var s in l)l.hasOwnProperty(s)&&(n[s]=l[s])};return function(l,s){function t(){this.constructor=l}n(l,s),l.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)}}(),sn=function(n){function l(l,s){var t=n.call(this)||this;if(t.elementRef=l,t.tokenInputContainer=s,t.autocompleteSelect=new w.m,t.disabled=!1,t.focused=!1,!s)throw"vcl-token-input ,must be used within a vcl-token-input-container";return t}return ln(l,n),Object.defineProperty(l.prototype,"isDisabled",{get:function(){return this.disabled||this.tokenInputContainer.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"classDisabled",{get:function(){return this.isDisabled},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"attrDisabled",{get:function(){return!!this.disabled||null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ac",{get:function(){if(!(this._ac instanceof L))throw"invalid vcl-token-input-autocomplete parameter";return this._ac},enumerable:!0,configurable:!0}),l.prototype.listenActivate=function(){this.focused=!0,this.activate()},l.prototype.onBlur=function(){this.focused=!1},l.prototype.onInput=function(){this.activate()},l.prototype.activate=function(){var n=this;this.acSub||(this.acSub=this.ac.open(this.tokenInputContainer.elementRef).subscribe(function(l){n.tokenInputContainer.addToken(l.label||String(l.value),l.value),n.elementRef.nativeElement.value="",n.focused||n.deactivate(),n.autocompleteSelect.emit(l)},void 0,function(){return n.deactivate()}))},l.prototype.deactivate=function(){this.acSub&&(this.acSub.unsubscribe(),this.acSub=void 0)},l.prototype.onKeyPress=function(n){"Tab"===(n.code||n.key)&&this.deactivate()},l.prototype.onKeyUp=function(n){var l=n&&(n.code||n.key),s=n.target.value;return"ArrowUp"===l?(this.ac&&this.ac.highlightPrev(),n.preventDefault(),!1):"ArrowDown"===l?(this.acSub?this.ac&&this.ac.highlightNext():this.activate(),n.preventDefault(),!1):void("Backspace"==l&&"Backspace"==this.lastKey&&""===s?this.tokenInputContainer.removeLastToken():"Enter"===l?(n.preventDefault(),this.ac&&this.ac.selectHighlighted(),this.elementRef.nativeElement.value=""):l&&(this.lastKey=l))},l.prototype.ngOnDestroy=function(){this.deactivate(),n.prototype.ngOnDestroy.call(this)},l}(B.a),tn=s(21),an=s(463),en=s(180),on=s(31),un=s(469),pn=[".vclDropdown[_ngcontent-%COMP%] {\n      padding: 0;\n      position: static;\n    }\n    .vclPopOver[_ngcontent-%COMP%] {\n      padding: 0;\n    }"],cn=w._4({encapsulation:0,styles:pn,data:{}}),rn=s(517),hn=s(475),dn=s(32),mn=s(187),fn=[],gn=w._4({encapsulation:2,styles:fn,data:{}}),bn=w._2("ng-component",q,k,{},{},[]),vn=s(43),_n=s(174),jn=s(71),yn=s(410),kn=s(412),wn=s(421),In=s(175),xn=s(176),Sn=s(178),$n=s(507),On=s(425),Dn=s(426),Pn=s(436),Cn=s(559),An=s(518),En=s(42),Tn=s(409);s.d(l,"AutocompleteDemoModuleNgFactory",function(){return qn});var qn=w._3(V,[],function(n){return w._17([w._18(512,w.j,w.Z,[[8,[K.a,bn]],[3,w.j],w.w]),w._18(4608,tn.n,tn.m,[w.t,[2,tn.v]]),w._18(4608,Q.u,Q.u,[]),w._18(4608,vn.a,vn.a,[]),w._18(512,tn.c,tn.c,[]),w._18(512,Q.r,Q.r,[]),w._18(512,Q.i,Q.i,[]),w._18(512,_n.a,_n.a,[]),w._18(512,jn.d,jn.d,[]),w._18(512,yn.a,yn.a,[]),w._18(512,kn.a,kn.a,[]),w._18(512,wn.a,wn.a,[]),w._18(512,In.a,In.a,[]),w._18(512,xn.a,xn.a,[]),w._18(512,Sn.a,Sn.a,[]),w._18(512,$n.a,$n.a,[]),w._18(512,On.a,On.a,[]),w._18(512,Dn.a,Dn.a,[]),w._18(512,Pn.a,Pn.a,[]),w._18(512,Cn.a,Cn.a,[]),w._18(512,An.a,An.a,[]),w._18(512,En.m,En.m,[[2,En.r],[2,En.l]]),w._18(512,V,V,[]),w._18(1024,En.j,function(){return[[{path:"",component:Tn.a,data:R}]]},[])])})},733:function(n,l){n.exports='<h1 id="vcl-autocomplete">vcl-autocomplete</h1>\n<h2 id="usage-">Usage:</h2>\n<pre class="hljs"><span class="hljs-tag">&lt;<span class="hljs-name">vcl-embedded-input-group</span> <span class="hljs-attr">prepIcon</span>=<span class="hljs-string">&quot;fa:search&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">vcl-input</span> <span class="hljs-attr">vcl-embedded-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;Search&quot;</span> [<span class="hljs-attr">vcl-input-autocomplete</span>]=<span class="hljs-string">&quot;acCountry&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-embedded-input-group</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete</span> #<span class="hljs-attr">acCountry</span>=<span class="hljs-string">&quot;vclAutocomplete&quot;</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;header&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Europe&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;France&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;fr&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Germany&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;de&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Greece&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;gr&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete</span>&gt;</span>\n</pre>\n<h4 id="vcl-autocomplete-option-attributes-">vcl-autocomplete-option attributes:</h4>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Default</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>value</code></td>\n<td>any</td>\n<td></td>\n<td>The items value</td>\n</tr>\n<tr>\n<td><code>label</code></td>\n<td>string</td>\n<td></td>\n<td>The items label</td>\n</tr>\n<tr>\n<td><code>sublabel</code></td>\n<td>string</td>\n<td></td>\n<td>The items sub label</td>\n</tr>\n</tbody>\n</table>\n'},734:function(n,l){n.exports='<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>vcl-input with fixed data<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-embedded-input-group</span> <span class="hljs-attr">prepIcon</span>=<span class="hljs-string">"fa:search"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">vcl-input</span> <span class="hljs-attr">vcl-embedded-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search"</span>  [<span class="hljs-attr">vcl-input-autocomplete</span>]=<span class="hljs-string">"acCountry"</span> (<span class="hljs-attr">change</span>)=<span class="hljs-string">"onChange($event);"</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-embedded-input-group</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>vcl-token-input with fixed data<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-token-input-container</span> (<span class="hljs-attr">change</span>)=<span class="hljs-string">"onChange($event)"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search for country to add"</span> [<span class="hljs-attr">vcl-token-input-autocomplete</span>]=<span class="hljs-string">"acCountry"</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-token-input-container</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete</span> #<span class="hljs-attr">acCountry</span>=<span class="hljs-string">"vclAutocomplete"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Europe"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Greece"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"gr"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"France"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"fr"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Germany"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"de"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"The United Kingdom of Great Britain and Northern Ireland"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"uk"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Asia"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Japan"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"jp"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"China"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cn"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Thailand"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"th"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>vcl-token-input with async data<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-token-input-container</span> (<span class="hljs-attr">change</span>)=<span class="hljs-string">"onChange($event)"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search for books to add"</span>\n         [<span class="hljs-attr">vcl-token-input-autocomplete</span>]=<span class="hljs-string">"acBooks"</span>\n         (<span class="hljs-attr">input</span>)=<span class="hljs-string">"booksSearch$.next($event.target.value)"</span>\n         (<span class="hljs-attr">autocompleteSelect</span>)=<span class="hljs-string">"booksSearch$.next(\'\')"</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-token-input-container</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete</span> [<span class="hljs-attr">busy</span>]=<span class="hljs-string">"loading"</span> #<span class="hljs-attr">acBooks</span>=<span class="hljs-string">"vclAutocomplete"</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-autocomplete-option</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let book of books$ | async"</span> [<span class="hljs-attr">label</span>]=<span class="hljs-string">"book.title"</span> [<span class="hljs-attr">value</span>]=<span class="hljs-string">"book.id"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete-option</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">vcl-busy-indicator</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding: 1em"</span> <span class="hljs-attr">autocomplete-busy</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vcl-busy-indicator</span>&gt;</span>\n  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>  *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"noResult"</span> <span class="hljs-attr">autocomplete-no-items</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding: 1em"</span>&gt;</span>\n    No books found\n  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">vcl-autocomplete</span>&gt;</span>\n'},735:function(n,l){n.exports='<span class="hljs-keyword">import</span> { Observable } <span class="hljs-keyword">from</span> <span class="hljs-string">\'rxjs/Observable\'</span>;\n<span class="hljs-keyword">import</span> { Http } <span class="hljs-keyword">from</span> <span class="hljs-string">\'@angular/http\'</span>;\n<span class="hljs-keyword">import</span> { BehaviorSubject } <span class="hljs-keyword">from</span> <span class="hljs-string">\'rxjs/BehaviorSubject\'</span>;\n<span class="hljs-keyword">import</span> { Component, OnInit } <span class="hljs-keyword">from</span> <span class="hljs-string">\'@angular/core\'</span>;\n\n<span class="hljs-keyword">const</span> BOOK_API_URL = <span class="hljs-string">\'https://www.googleapis.com/books/v1/volumes\'</span>;\n\n<span class="hljs-meta">@Component</span>({\n  templateUrl: <span class="hljs-string">\'demo.component.html\'</span>\n})\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> AutocompleteDemoComponent {\n  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> http: Http</span>) { }\n\n  onChange(change) {\n    <span class="hljs-built_in">console</span>.log(change);\n  }\n\n  booksSearch$ = <span class="hljs-keyword">new</span> BehaviorSubject&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">\'\'</span>);\n  loading = <span class="hljs-literal">false</span>;\n  noResult = <span class="hljs-literal">false</span>;\n  books$ = <span class="hljs-keyword">this</span>.booksSearch$\n               .debounceTime(<span class="hljs-number">200</span>)\n               .switchMap(<span class="hljs-function"><span class="hljs-params">search</span> =&gt;</span> {\n                 <span class="hljs-keyword">this</span>.noResult = <span class="hljs-literal">false</span>;\n                 <span class="hljs-keyword">if</span> (!search || search.length &lt; <span class="hljs-number">2</span>) {\n                   <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;\n                   <span class="hljs-keyword">return</span>  Observable.of([]);\n                 }\n                 <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">true</span>;\n                 <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.http.get(<span class="hljs-string">`<span class="hljs-subst">${BOOK_API_URL}</span>?q=<span class="hljs-subst">${search}</span>&amp;projection=lite`</span>)\n                   .map(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> result.json())\n                   .map(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {\n                     <span class="hljs-keyword">if</span> (!data.items) <span class="hljs-keyword">return</span> [];\n                     <span class="hljs-keyword">return</span> data.items.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({\n                       id: item.id,\n                       title: item.volumeInfo &amp;&amp; item.volumeInfo.title\n                     }));\n                   })\n                   .catch(<span class="hljs-function"><span class="hljs-params">ex</span> =&gt;</span> {\n                     <span class="hljs-keyword">return</span>  Observable.of([]);\n                   }).do(<span class="hljs-function">(<span class="hljs-params">books</span>) =&gt;</span> {\n                     <span class="hljs-keyword">this</span>.noResult = books.length === <span class="hljs-number">0</span>;\n                     <span class="hljs-keyword">this</span>.loading = <span class="hljs-literal">false</span>;\n                   });\n               });\n}\n\n\n'}});